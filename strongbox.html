<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
  <meta charset="UTF-8">
  <meta content='IE=edge' http-equiv='X-UA-Compatible'>
  <meta content='width=device-width, initial-scale=1' name='viewport'>
  <title>173yy online-官方網站--保險箱</title>
  <link href='stylesheets/all.css' media='screen' rel='stylesheet' type='text/css'>
</head>

<body class="page">
  <!-- 小螢幕選單 -->
  <nav class="navbar navbar-sm">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="index.html"><i class="flaticon-home"></i>首頁</a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="strongbox.html"><i class="flaticon-deposit"></i>保險箱</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#"><i class="flaticon-headphones"></i>客服</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="member.html"><i class="flaticon-money"></i>會員</a>
      </li>
      <li class="nav-item">
        <a class="nav-link"
          href="https://line.me/ti/g2/LZAxlr8m_wMCn-2Eh-xP9g?utm_source=invitation&utm_medium=link_copy&utm_campaign=default"><i
            class="flaticon-chat"></i>聊天</a>
      </li>
    </ul>
  </nav>
  <!-- 大螢幕選單 -->
  <header class="header">
    <div class="container">
      <nav class="navbar navbar-expand-md">
        <a class="navbar-brand" href="index.html"><img src="images/logo.png" alt="173yy online"></a>
        <div class="collapse navbar-collapse">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="index.html"><i class="flaticon-home"></i>首頁</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="strongbox.html"><i class="flaticon-deposit"></i>保險箱</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#"><i class="flaticon-headphones"></i>客服</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="member.html"><i class="flaticon-money"></i>會員</a>
            </li>
            <li class="nav-item">
              <a class="nav-link"
                href="https://line.me/ti/g2/LZAxlr8m_wMCn-2Eh-xP9g?utm_source=invitation&utm_medium=link_copy&utm_campaign=default"><i
                  class="flaticon-chat"></i>聊天</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="ranking.html"><i class="flaticon-trophy"></i>富豪榜</a>
            </li>
          </ul>
        </div>
        <!-- 未登入 -->
        <div class="sign  d-none">
          <a href="" class="avatar"><i><img src="images/user-default.jpg" alt=""></i><span>登錄</span></a>
        </div>
        <!-- 登入 -->
        <div class="sign sign-data">
          <div class="user-data"><i class="flaticon-null"></i>1,020,123,123</div>
          <div class="user-data"><i class="flaticon-deposit"></i>1,020,123,123</div>
          <div class="dropdown">
            <a href="" class="avatar dropdown-toggle" href="#" data-toggle="dropdown"><span>line的名字</span><i><img
                  src="images/user.jpg" alt=""></i></a>
            <div class="dropdown-menu">
              <a class="dropdown-item" href="#">登出</a>
            </div>
          </div>
          <a href="ranking.html" class="user-data d-md-none"><i class="flaticon-trophy"></i></a>
        </div>
      </nav>
    </div>
  </header>
  <section class="container max-w">
    <!-- 現有點數 -->
    <div class="member">
      <h4>1591321680 會員您好!</h4>
      <p>保險箱現有存款：</p>
      <div class="data">
        <i class="flaticon-deposit"></i>
        <p>0</p>
      </div>
    </div>
    <!-- 帳號資料 -->
    <ul class="nav nav-member">
      <li class="nav-item">
        <a class="nav-link active" data-toggle="tab" href="#tabs-info">保險箱存取</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-toggle="tab" href="#tabs-recording">保險箱紀錄</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-toggle="tab" href="#tabs-changePassword">修改保險箱密碼</a>
      </li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane fade show active" id="tabs-info">
        <table class="table">
          <tbody>
            <tr>
              <th>將金幣存入保險箱</th>
              <!-- <td><button type="button" class="btn btn-warning" data-toggle="modal" data-target="#strongbox-1">存入金幣</button></td> -->
              <td><button type="button" class="btn btn-warning" onclick="save_to_account();">存入金幣</button></td>
            </tr>
            <tr>
              <th>將金幣從保險箱取出</th>
              <!-- <td><button type="button" class="btn btn-warning" data-toggle="modal" data-target="#strongbox-2">取出金幣</button></td> -->
              <td>
                <button type="button" class="btn btn-warning d-block" onclick="save_to_golds();">取出金幣</button>
                <button type="button" class="btn btn-warning d-none" onclick="save_to_golds();">取出金幣</button>
              </td>
            </tr>
            <tr>
              <th>將金幣贈與他人</th>
              <!-- <td><button type="button" class="btn btn-warning" data-toggle="modal" data-target="#strongbox-3">贈與金幣</button></td> -->
              <td><button type="button" class="btn btn-warning" onclick="gift2some8d()">贈與金幣</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="tab-pane fade" id="tabs-recording">
        <p class="h5">本月提領記錄：</p>
        <div class="table-responsive">
          <table class="table">
            <tbody>
              <tr>
                <td>2020/06/20 15:40:40</td>
                <td>購買金幣</td>
                <td>100</td>
                <td>成功</td>
              </tr>
              <tr>
                <td>2020/06/20 15:40:40</td>
                <td>購買金幣</td>
                <td>100000000000000</td>
                <td>失敗</td>
              </tr>
              <tr>
                <td>2020/06/20 15:40:40</td>
                <td>購買金幣</td>
                <td>1500</td>
                <td>成功</td>
              </tr>
            </tbody>
          </table>
        </div>
        <nav class="nav-page">
          <button class="btn btn-warning">上個月</button>
          <button class="btn btn-warning">下個月</button>

        </nav>
      </div>
      <div class="tab-pane fade" id="tabs-changePassword">
        <p class="h5">修改保險箱密碼</p>
        <form class="mt-sm-5">
          <div class="form-group row">
            <label for="password" class="col-sm-2 col-form-label text-sm-right">舊密碼</label>
            <div class="col-sm-10">
              <input type="password" class="form-control" id="password" placeholder="請輸入舊密碼">
            </div>
          </div>
          <div class="form-group row">
            <label for="newPassword" class="col-sm-2 col-form-label text-sm-right">新密碼</label>
            <div class="col-sm-10">
              <input type="password" class="form-control" id="newPassword" placeholder="請輸入新密碼">
            </div>
          </div>
          <div class="form-group row">
            <label for="reEnterPassword" class="col-sm-2 col-form-label text-sm-right">確認新密碼</label>
            <div class="col-sm-10">
              <input type="password" class="form-control" id="reEnterPassword" placeholder="請再次輸入新密碼">
            </div>
          </div>
          <div class="form-group row">
            <div class="col-sm-10 ml-auto">
              <button type="submit" class="btn btn-warning">確認</button>
              <button type="button" class="btn btn-primary">取消</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </section>
  <footer>
    <section class="container">
      <nav class="footer-nav">
        <a href="privacy.html">隱私政策</a>
        <a href="game_service.html">服務條款</a>
      </nav>
      <div class="row justify-content-center justify-content-xl-between py-3">
        <div class="col-12 col-md-auto">
          <ul class="company">
            <li><span class="icon-qrcode"></span></li>
            <li><span class="icon-173yy"></span></li>
            <li class="text-center">©2020 173yy All Rights Reserved</li>
          </ul>
        </div>
        <div class="col-12 col-md-auto d-flex justify-content-center">
          <div class="icon"><span class="icon-15"></span></div>
          <ul class="grade">
            <li>本遊戲僅提供娛樂，以成年人為訴求對象。</li>
            <li>本遊戲不提供「現金交易賭博」，也沒有機會贏得現金或實體獎品。</li>
            <li>在社交類遊戲中的練習狀況或成就，不代表日後在「現金交易賭博」中會獲得成功。</li>
            <li>遊戲幣一經購入後無法以任何理由退換現金。</li>
          </ul>
        </div>
      </div>
    </section>
  </footer>

  <script src="javascripts/vendor.js"></script>
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@9/dist/sweetalert2.min.js"></script>
  <script src="javascripts/script.js"></script>
  <script>
    function notyet() {
      Swal.fire("尚未開放", "此功能尚未開放", "error");
    }
    function checkNum(str) {
      var patternStr = "0123456789";
      var strlength = str.length;
      for (var i = 0; i < strlength; i++) {
        var tempchar = str.substring(i, i + 1);
        if (patternStr.indexOf(tempchar) < 0) {
          return false;
        }
      }
      return true;
    }

    function save_to_account(b_max) {
      swalCustomStyle.mixin({
        input: 'text',
        confirmButtonText: '存入金幣',
        showCancelButton: true,
        cancelButtonText: '取消',
        progressSteps: ['?'],
      }).queue(
        [
          {
            title: '存入保險箱',
            text: '可以存入0-' + b_max + '金幣，請輸入數字'
          }
        ]
      ).then((result) => {
        if (result.value) {
          const aaa = result.value[0];
          if (checkNum(aaa)) {
            let timerInterval
            swalCustomStyle.fire({
              title: '存入保險箱!',
              html: '執行中 <b></b> .',
              timer: 1000,
              timerProgressBar: true,
              onBeforeOpen: () => {
                Swal.showLoading()
                timerInterval = setInterval(() => {
                  const content = Swal.getContent()
                  if (content) {
                    const b = content.querySelector('b')
                    if (b) {
                      b.textContent = Swal.getTimerLeft()
                    }
                  }
                }, 100)
              },
              onClose: () => {
                clearInterval(timerInterval)
              }
            }).then((result) => {
              /* Read more about handling dismissals below */
              if (result.dismiss === Swal.DismissReason.timer) {
                //console.log('I was closed by the timer')
                location.href = '/bank2account.php?golds=' + aaa;
              }
            })
          } else {
            swalCustomStyle.fire({
              title: '錯誤輸入!',
              text: '只能輸入數字',
              // html: '<pre>只能輸入數字</pre>',
              confirmButtonText: '確認!'
            });
          }

        }
      })

    }

    function save_to_golds(b_max) {
      swalCustomStyle.mixin({
        input: 'text',
        confirmButtonText: '取出金幣',
        showCancelButton: true,
        cancelButtonText: '取消',
        progressSteps: ['?']
      }).queue(
        [
          {
            title: '取出金幣',
            text: '可以取出0-' + b_max + '金幣，請輸入數字'
          }
        ]
      ).then((result) => {
        if (result.value) {
          const aaa = result.value[0];
          if (checkNum(aaa)) {
            let timerInterval
            swalCustomStyle.fire({
              title: '取出金幣!',
              html: '執行中 <b></b> .',
              timer: 1000,
              timerProgressBar: true,
              onBeforeOpen: () => {
                Swal.showLoading()
                timerInterval = setInterval(() => {
                  const content = Swal.getContent()
                  if (content) {
                    const b = content.querySelector('b')
                    if (b) {
                      b.textContent = Swal.getTimerLeft()
                    }
                  }
                }, 100)
              },
              onClose: () => {
                clearInterval(timerInterval)
              }
            }).then((result) => {
              /* Read more about handling dismissals below */
              if (result.dismiss === Swal.DismissReason.timer) {
                //console.log('I was closed by the timer')
                location.href = '/bank2golds.php?golds=' + aaa;
              }
            })
          } else {
            swalCustomStyle.fire({
              title: '錯誤輸入!',
              text: '只能輸入數字',
              // html: '<pre>只能輸入數字</pre>',
              confirmButtonText: '確認!'
            });
          }

        }
      })

    }

    function gift2some8d(b_max) {
      swalCustomStyle.mixin({
        input: 'text',
        confirmButtonText: '下一步',
        showCancelButton: true,
        cancelButtonText: '取消',
        progressSteps: ['1', '2']
      }).queue(
        [
          {
            title: '贈送給誰?',
            text: '請輸入受贈會員編號'
          },
          '送多少金幣，金幣上限' + b_max
        ]
      ).then((result) => {
        if (result.value) {
          //Swal.fire({ 
          //		title: '所有問題回答完成!', 
          //		html: '你的答案是: <pre><code>' + JSON.stringify(result.value) + '</code></pre>', 
          //		confirmButtonText: 'Lovely!' 
          //})
          const uuu = result.value[0];
          const ggg = result.value[1];
          if (checkNum(ggg)) {
            if (ggg > b_max) {
              swalCustomStyle.fire({
                title: '錯誤輸入!',
                html: '<pre>最多只能' + b_max + '金幣</pre>',
                confirmButtonText: '確認!'
              });
            } else {
              var tourl = 'api_chk_user.php';
              $.ajax({
                type: 'POST',
                url: tourl,
                data: { user_id: uuu },
                success: function (response) {
                  var res = response;
                  if (res == 'no') {
                    swalCustomStyle.fire({
                      title: '錯誤輸入!',
                      html: '<pre>請確認對方的會員編號</pre>',
                      confirmButtonText: '確認!'
                    });
                  } else {
                    let timerInterval
                    swalCustomStyle.fire({
                      title: '贈送金幣!',
                      html: '執行中 <b></b> .',
                      timer: 1000,
                      timerProgressBar: true,
                      onBeforeOpen: () => {
                        Swal.showLoading()
                        timerInterval = setInterval(() => {
                          const content = Swal.getContent()
                          if (content) {
                            const b = content.querySelector('b')
                            if (b) {
                              b.textContent = Swal.getTimerLeft()
                            }
                          }
                        }, 100)
                      },
                      onClose: () => {
                        clearInterval(timerInterval)
                      }
                    }).then((result) => {
                      /* Read more about handling dismissals below */
                      if (result.dismiss === Swal.DismissReason.timer) {
                        //console.log('I was closed by the timer')
                        location.href = '/bank2some8d.php?fid=' + uuu + '&golds=' + ggg;
                      }
                    })
                  }
                }
              });
            }
          } else {
            swalCustomStyle.fire({
              title: '錯誤輸入!',
              text: '只能輸入數字',
              // html: '<pre>只能輸入數字</pre>',
              confirmButtonText: '確認!'
            });
          }

        }
      })

    }
  </script>




  <!-- 跳窗 -->
  <!-- 存入金幣 -->
  <!-- <div class="modal fade" id="strongbox-1" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">存入保險箱</h4>
          <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>可以存入0-0金幣，請輸入數字</p>
          <form>
            <div class="form-group">
              <input type="text" class="form-control" placeholder="請輸入數字">
            </div>
            <div class="form-btn">
              <button type="button" class="btn btn-warning btn-lg">存入</button>
              <button type="button" class="btn btn-primary btn-lg" data-dismiss="modal">取消</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div> -->
  <!-- 取出金幣 -->
  <!-- <div class="modal fade" id="strongbox-2" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">取出金幣</h4>
          <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>可以存入0-0金幣，請輸入數字</p>
          <form>
            <div class="form-group">
              <input type="text" class="form-control" placeholder="請輸入數字">
            </div>
            <div class="form-btn">
              <button type="button" class="btn btn-warning btn-lg">取出金幣</button>
              <button type="button" class="btn btn-primary btn-lg" data-dismiss="modal">取消</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div> -->
  <!-- 贈與金幣-1 -->
  <!-- <div class="modal fade" id="strongbox-3" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">贈送給誰？</h4>
          <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <ul class="step">
            <li class="on">1</li>
            <li>2</li>
          </ul>
          <p>請輸入受贈會員編號</p>
          <form>
            <div class="form-group">
              <input type="text" class="form-control" placeholder="">
            </div>
            <div class="form-btn">
              <button type="button" class="btn btn-warning btn-lg" data-dismiss="modal" data-toggle="modal"
                data-target="#strongbox-4">下一步</button>
              <button type="button" class="btn btn-primary btn-lg" data-dismiss="modal">取消</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div> -->
  <!-- 贈與金幣-2 -->
  <!-- <div class="modal fade" id="strongbox-4" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">送多少金幣，金幣上限0</h4>
          <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <ul class="step">
            <li class="on">1</li>
            <li class="on">2</li>
          </ul>
          <form>
            <div class="form-group">
              <input type="text" class="form-control" placeholder="">
            </div>
            <div class="form-btn">
              <button type="button" class="btn btn-warning btn-lg">完成</button>
              <button type="button" class="btn btn-primary btn-lg" data-dismiss="modal">取消</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div> -->
</body>

</html>